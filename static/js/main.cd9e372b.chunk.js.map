{"version":3,"sources":["components/list.js","components/stistic.js","components/form.js","App.js","index.js"],"names":["List","props","bikes","Bike","Remove","SaveChange","className","map","el","i","classNames","status","names","type","color","slug","value","autoComplete","onChange","e","id","target","onClick","parseInt","price","toFixed","Stistic","total","length","availableBikes","reduce","tally","bike","commonCost","accumulator","currentValue","available","busy","Form","state","size","description","modal","componentDidMount","localforage","getItem","then","setState","handleSubmit","a","preventDefault","reset","curItem","arr","findIndex","setItem","handleChange","input","form","name","Math","random","remove","filter","saveChange","newStatus","item","close","this","onSubmit","minLength","required","placeholder","pattern","Component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sYAMe,SAASA,EAAKC,GAEzB,IAAMC,EAAQD,EAAME,KACbC,EAAsBH,EAAtBG,OAAQC,EAAcJ,EAAdI,WAEf,OACI,qBAAKC,UAAU,YAAf,SACKJ,GAASA,EAAMK,KAAK,SAACC,EAAIC,GACtB,OACI,sBAEIH,UAAWI,IAAW,gBAAiB,CACvC,UAA2B,cAAdF,EAAGG,OAChB,KAAsB,SAAdH,EAAGG,OACX,YAA6B,gBAAdH,EAAGG,SALtB,UAOI,sBAAKL,UAAU,oBAAf,UACI,sBAAKA,UAAU,qBAAf,UACI,iCAASE,EAAGI,OAAS,SADzB,MAC6CJ,EAAGK,MAAQ,OADxD,KACkEL,EAAGM,OAAS,QAD9E,OAGA,qBAAKR,UAAU,qBAAf,SACKE,EAAGO,MAAQ,uFAEhB,sBAAKT,UAAU,uBAAf,qBACI,yBACIU,MAAOR,EAAGG,OACVM,aAAa,MACbC,SAAU,SAACC,GAAD,OAAOd,EAAYG,EAAGY,GAAID,EAAEE,OAAOL,QAHjD,UAKQ,wBAAQA,MAAM,YAAd,uBACA,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,cAAd,kCAKhB,sBAAKV,UAAU,qBAAf,UACI,cAAC,IAAD,CAASA,UAAU,mBACXgB,QAAU,kBAAMlB,EAAOI,EAAGY,OAElC,sBAAKd,UAAU,sBAAf,UACOiB,SAASf,EAAGgB,OAAQC,QAAQ,IAAO,QAD1C,IACoD,mDA/BnDhB,Q,MCZd,SAASiB,EAAQzB,GAE5B,IAAMC,EAAQD,EAAME,KACdwB,EAAQzB,EAAM0B,OAEpB,SAASC,IAQL,OAPmB3B,EAAMK,KAAI,SAAAC,GACzB,OAAOA,EAAGG,UAEWmB,QAAQ,SAACC,EAAOC,GAErC,OADAD,EAAMC,IAASD,EAAMC,IAAS,GAAK,EAC5BD,IACN,IAIT,SAASE,IAOL,OANc/B,EAAMK,KAAI,SAAAC,GACpB,OAAOA,EAAGgB,SAEMM,QAAO,SAACI,EAAaC,GACrC,OAAOZ,SAASW,GAAeX,SAASY,KACzC,GAIP,OACI,sBAAK7B,UAAU,YAAf,UACI,oBAAIA,UAAU,mBAAd,sBACA,sBAAKA,UAAU,cAAf,0BACiB,iCAAUqB,GAAS,OAEpC,sBAAKrB,UAAU,kBAAf,8BACqB,iCAAUuB,IAAiBO,WAAa,OAE7D,sBAAK9B,UAAU,eAAf,2BACkB,mCAAUuB,IAAiBQ,MAAQ,EAAnC,UAElB,sBAAK/B,UAAU,aAAf,gCACuB,mCAAY2B,IAAeN,GAAUM,IAAeN,GAAOF,QAAQ,GAAK,OAAxE,OADvB,kB,IChCSa,E,4MAEjBC,MAAQ,CACJP,KAAM,CACFpB,MAAO,GACPC,KAAK,GACLC,MAAM,GACN0B,KAAK,GACLhB,MAAO,GACPT,KAAK,GACL0B,YAAY,GACZrB,GAAG,GACHT,OAAQ,aAEZT,MAAO,GACPwC,OAAO,G,EAGXC,kBAAoB,WAChBC,IAAYC,QAAQ,YAAYC,MAAM,SAAC9B,GAChCA,GACC,EAAK+B,SAAS,CACV7C,MAAOc,Q,EAMvBgC,a,uCAAe,WAAO7B,GAAP,iBAAA8B,EAAA,yDACX9B,EAAE+B,iBACF/B,EAAEE,OAAO8B,QAEHC,EAAU,EAAKb,MAAMP,KACrBqB,EAAM,EAAKd,MAAMrC,OAEZ,IADGmD,EAAIC,WAAU,SAAA9C,GAAE,OAAIA,EAAGO,OAASqC,EAAQrC,QAN3C,iCASL,EAAKgC,SAAS,CAChB7C,MAAM,GAAD,mBAAM,EAAKqC,MAAMrC,OAAjB,CAAwB,EAAKqC,MAAMP,SAVjC,+BAaX,EAAKe,SAAS,CACVL,OAAO,IAdA,QAsBXE,IAAYW,QAAQ,WAAY,EAAKhB,MAAMrC,OAtBhC,4C,wDAyBfsD,aAAe,SAACrC,GAAO,IAAD,EACZsC,EAAQtC,EAAEE,OACVqC,EAAOD,EAAMC,KACb1C,EAAQyC,EAAMzC,MAEpB,EAAK+B,SAAL,eACGW,EAAKC,KADR,2BAEO,EAAKpB,MAAMmB,EAAKC,OAFvB,uBAGKF,EAAME,KAAO3C,GAHlB,mBAIQ4C,KAAKC,UAJb,O,EASJC,O,uCAAS,WAAO1C,GAAP,SAAA6B,EAAA,sEACC,EAAKF,SAAS,CAChB7C,MAAO,EAAKqC,MAAMrC,MAAM6D,QAAO,SAAAvD,GAAE,OAAIA,EAAGY,KAAOA,OAF9C,OAILwB,IAAYW,QAAQ,WAAY,EAAKhB,MAAMrC,OAJtC,2C,wDAOT8D,W,uCAAa,WAAO5C,EAAIT,GAAX,eAAAsC,EAAA,6DACHgB,EAAY,EAAK1B,MAAMrC,MAAMK,KAAK,SAAA2D,GAIpC,OAHGA,EAAK9C,KAAOA,IACX8C,EAAKvD,OAASA,GAEXuD,KALF,SAOH,EAAKnB,SAAS,CAChB7C,MAAO+D,IARF,OAUTrB,IAAYW,QAAQ,WAAY,EAAKhB,MAAMrC,OAVlC,2C,0DAabiE,MAAQ,WACJ,EAAKpB,SAAS,CACVL,OAAO,K,4CAIf,WACI,OACI,sBAAKpC,UAAU,OAAf,UACM8D,KAAK7B,MAAMG,MAET,sBAAKpC,UAAU,QAAf,UACI,cAAC,IAAD,CAASA,UAAU,MACXgB,QAAU8C,KAAKD,QACvB,oFAIF,KAELC,KAAK7B,MAAMrC,MAAM0B,OACd,cAAC5B,EAAD,CACIG,KAAQiE,KAAK7B,MAAMrC,MACnBE,OAAUgE,KAAKN,OACfzD,WAAa+D,KAAKJ,aAGtB,qBAAK1D,UAAU,eAIvB,sBAAKA,UAAU,QAAf,UACI,uBACI+D,SAAUD,KAAKpB,aACf1C,UAAU,OACVqD,KAAK,OAHT,UAKI,uBACIW,UAAU,IACVC,UAAQ,EACR1D,KAAK,OACL8C,KAAK,QACLa,YAAY,OACZtD,SAAUkD,KAAKZ,eAGnB,uBACIc,UAAU,IACVC,UAAQ,EACR1D,KAAK,OACL8C,KAAK,OACLa,YAAY,OACZtD,SAAUkD,KAAKZ,eAGnB,uBACIc,UAAU,IACVC,UAAQ,EACR1D,KAAK,OACL8C,KAAK,QACLa,YAAY,QACZtD,SAAUkD,KAAKZ,eAGnB,uBACIc,UAAU,IACVC,UAAQ,EACR1D,KAAK,OACL8C,KAAK,OACLa,YAAY,aACZtD,SAAUkD,KAAKZ,eAGnB,uBACIc,UAAU,IACVC,UAAQ,EACR1D,KAAK,OACL4D,QAAQ,YACRd,KAAK,QACLa,YAAY,QACZtD,SAAUkD,KAAKZ,eAGnB,uBACIc,UAAU,IACVC,UAAQ,EACR1D,KAAK,OACL4D,QAAQ,YACRd,KAAK,OACLa,YAAY,wBACZtD,SAAUkD,KAAKZ,eAGnB,0BACIc,UAAU,IACVC,UAAQ,EACRZ,KAAK,cACLa,YAAY,cACZtD,SAAUkD,KAAKZ,eAInB,sBAAKlD,UAAU,eAAf,UACI,wBAAQA,UAAU,WAAWO,KAAK,SAAlC,oBACA,wBAAQP,UAAU,WAAWO,KAAK,QAAlC,2BAKR,cAACa,EAAD,CACIvB,KAAQiE,KAAK7B,MAAMrC,kB,GArMLwE,aCgBnBC,MAtBf,WACE,OACE,sBAAKrE,UAAU,MAAf,UAEE,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,iBAAf,sCAKF,cAAC,EAAD,IAEA,wBAAQA,UAAU,eAAlB,SACE,sBAAKA,UAAU,oBAAf,UACE,+CADF,6BCbRsE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.cd9e372b.chunk.js","sourcesContent":["import React from 'react';\r\nimport classNames from 'classnames';\r\nimport { MdClose } from 'react-icons/md';\r\n\r\nimport './list.css';\r\n\r\nexport default function List(props) {\r\n\r\n    const bikes = props.Bike;\r\n    const {Remove, SaveChange} = props;\r\n    \r\n    return (\r\n        <div className=\"bike-list\">\r\n            {bikes && bikes.map( (el, i) => {\r\n                return(\r\n                    <div  \r\n                        key={i}\r\n                        className={classNames(\"bikes-wrapper\", {\r\n                        \"available\": el.status === 'available',\r\n                        \"busy\": el.status === 'busy',\r\n                        \"unavailable\": el.status === 'unavailable'\r\n                    })} >\r\n                        <div className=\"bike-wrapper-left\">\r\n                            <div className=\"bikes-wrapper-name\">\r\n                                <strong>{el.names || 'NAME'}</strong> - {el.type || 'TYPE'} ({el.color || 'COLOR'}) \r\n                            </div>\r\n                            <div className=\"bikes-wrapper-slug\"> \r\n                                {el.slug || 'ID: ХХХХХХХХХХХХХ'} \r\n                            </div> \r\n                            <div className=\"bikes-wrapper-status\"> STATUS: \r\n                                <select\r\n                                    value={el.status}\r\n                                    autoComplete=\"off\"\r\n                                    onChange={(e) => SaveChange( el.id, e.target.value )}\r\n                                    >\r\n                                        <option value=\"available\">available</option>\r\n                                        <option value=\"busy\">busu</option>\r\n                                        <option value=\"unavailable\">unavailable</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"bike-wrapper-right\">\r\n                            <MdClose className=\"bike-wrapper bnt\"\r\n                                    onClick={ () => Remove(el.id) }/>\r\n                            \r\n                            <div className=\"bikes-wrapper-price\">\r\n                                { (parseInt(el.price)).toFixed(2)  || '00.00' } <span> UAH/hr</span>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                )\r\n            }) }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport './stistic.css';\r\n\r\n\r\nexport default function Stistic(props) {\r\n\r\n    const bikes = props.Bike\r\n    const total = bikes.length\r\n\r\n    function availableBikes() {\r\n        const doneHabits = bikes.map(el => {\r\n            return el.status;\r\n        })\r\n        const count = doneHabits.reduce( (tally, bike) => {\r\n            tally[bike] = (tally[bike] || 0) + 1 ;\r\n            return tally;\r\n          }, {})\r\n        return count\r\n    }\r\n    \r\n    function commonCost() {\r\n        const price = bikes.map(el => {\r\n            return el.price;\r\n        })\r\n        const count = price.reduce((accumulator, currentValue) => {\r\n            return parseInt(accumulator) + parseInt(currentValue)\r\n        }, 0)\r\n        return count\r\n    }\r\n\r\n    return (\r\n        <div className=\"statistic\">\r\n            <h3 className=\"statistic-header\">Stistics</h3>\r\n            <div className=\"total-bikes\"> \r\n                Total Bikes: <strong>{ total || 0 }</strong> \r\n            </div>\r\n            <div className=\"available-bikes\">\r\n                Available Bikes: <strong>{ availableBikes().available || 0}</strong> \r\n            </div>\r\n            <div className=\"booked-bikes\">\r\n                Booked Bikes: <strong>{ availableBikes().busy || 0 } </strong>\r\n            </div>\r\n            <div className=\"cost-bikes\">\r\n                Avarage bike cost: <strong>{  (commonCost() / total) ? (commonCost() / total).toFixed(2) : '0.00' } </strong>  UAH/hr.\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport './form.css';\r\nimport localforage from 'localforage';\r\n\r\nimport { MdClose } from 'react-icons/md';\r\n\r\nimport List from './list' \r\nimport Stistic from './stistic' \r\n\r\n\r\nexport default class Form extends Component {\r\n\r\n    state = {\r\n        bike: {\r\n            names: '',\r\n            type:'',\r\n            color:'',\r\n            size:'',\r\n            price: '',\r\n            slug:'',\r\n            description:'',\r\n            id:'',\r\n            status: 'available'\r\n        },\r\n        bikes: [],\r\n        modal: false\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        localforage.getItem('bikeList').then( (value) => {\r\n            if(value) {\r\n                this.setState({\r\n                    bikes: value\r\n                });\r\n            }\r\n        })\r\n    };  \r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        e.target.reset();\r\n\r\n        const curItem = this.state.bike;\r\n        const arr = this.state.bikes;\r\n        const index = arr.findIndex(el => el.slug === curItem.slug); \r\n        index === -1 \r\n        ?\r\n        await this.setState({\r\n            bikes: [...this.state.bikes, this.state.bike]\r\n        })\r\n        :\r\n        this.setState({\r\n            modal: true\r\n        })\r\n        // setTimeout(() => \r\n        //     this.setState({\r\n        //         modal: false\r\n        //     })\r\n        // , 1000);\r\n\r\n        localforage.setItem('bikeList', this.state.bikes )\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        const input = e.target;\r\n        const form = input.form;\r\n        const value = input.value;\r\n    \r\n        this.setState({\r\n          [form.name]: {\r\n            ...this.state[form.name],\r\n            [input.name]: value,\r\n            id: Math.random() // individual id for each bike \r\n          }\r\n        });\r\n    }\r\n\r\n    remove = async (id) => {\r\n        await this.setState({\r\n            bikes: this.state.bikes.filter(el => el.id !== id)\r\n        });\r\n        localforage.setItem('bikeList', this.state.bikes );\r\n    }\r\n\r\n    saveChange = async (id, status) => {\r\n        const newStatus = this.state.bikes.map( item => {\r\n            if(item.id === id) {\r\n                item.status = status\r\n            }\r\n            return item\r\n        })\r\n        await this.setState({\r\n            bikes: newStatus\r\n        });\r\n        localforage.setItem('bikeList', this.state.bikes );\r\n    }\r\n\r\n    close = () => {\r\n        this.setState({\r\n            modal: !true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"main\">\r\n                { this.state.modal \r\n                    ? \r\n                    <div className=\"modal\">\r\n                        <MdClose className=\"bnt\"\r\n                                onClick={ this.close }/>\r\n                        <h1>\r\n                            An object with this ID exists - enter unique ID\r\n                        </h1>\r\n                    </div> \r\n                    : null }\r\n\r\n                {this.state.bikes.length ? \r\n                    <List \r\n                        Bike={  this.state.bikes }\r\n                        Remove={  this.remove }\r\n                        SaveChange={ this.saveChange }\r\n                    />\r\n                    :\r\n                    <div className=\"isFetching\">\r\n                    </div>\r\n                }\r\n\r\n            <div className=\"panel\">\r\n                <form \r\n                    onSubmit={this.handleSubmit} \r\n                    className=\"form\"\r\n                    name=\"bike\" >\r\n\r\n                    <input \r\n                        minLength=\"5\"\r\n                        required\r\n                        type=\"text\" \r\n                        name=\"names\" \r\n                        placeholder=\"Name\"\r\n                        onChange={this.handleChange}\r\n                        />\r\n\r\n                    <input \r\n                        minLength=\"5\"\r\n                        required\r\n                        type=\"text\" \r\n                        name=\"type\" \r\n                        placeholder=\"Type\"\r\n                        onChange={this.handleChange}\r\n                        />\r\n\r\n                    <input \r\n                        minLength=\"5\"\r\n                        required\r\n                        type=\"text\" \r\n                        name=\"color\" \r\n                        placeholder=\"Color\"\r\n                        onChange={this.handleChange}\r\n                        />\r\n                    \r\n                    <input \r\n                        minLength=\"5\"\r\n                        required\r\n                        type=\"text\" \r\n                        name=\"size\" \r\n                        placeholder=\"Wheel size\"\r\n                        onChange={this.handleChange}\r\n                        />\r\n\r\n                    <input \r\n                        minLength=\"3\"\r\n                        required\r\n                        type=\"text\"\r\n                        pattern=\"^[ 0-9]+$\" \r\n                        name=\"price\" \r\n                        placeholder=\"Price\"\r\n                        onChange={this.handleChange}\r\n                        />\r\n                    \r\n                    <input \r\n                        minLength=\"5\"\r\n                        required\r\n                        type=\"text\" \r\n                        pattern=\"^[ 0-9]+$\"\r\n                        name=\"slug\" \r\n                        placeholder=\"ID (slug) XXXXXXXXXXX\"\r\n                        onChange={this.handleChange}\r\n                        />\r\n                    \r\n                    <textarea \r\n                        minLength=\"5\"\r\n                        required\r\n                        name=\"description\"\r\n                        placeholder=\"Description\"\r\n                        onChange={this.handleChange}\r\n                        >\r\n                    </textarea>\r\n\r\n                    <div className=\"form-btn-box\">\r\n                        <button className=\"form-btn\" type=\"submit\"> SAVE </button>\r\n                        <button className=\"form-btn\" type=\"reset\"> CLEAR </button>\r\n                    </div>\r\n\r\n                </form>\r\n\r\n                <Stistic \r\n                    Bike={  this.state.bikes }\r\n                />\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n","import './App.css';\nimport Form from './components/form'\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n\n      <div className=\"top-panel\">\n        <div className=\"top-panel-text\">\n          ADMIN.BIKE-BOOKING.COM\n        </div>\n      </div>\n\n      <Form/>\n\n      <footer className=\"bottom-panel\">\n        <div className=\"bottom-panel-text\">\n          <span>DEVELOPER: </span> OLEH KALYNOVSKYI\n        </div>\n      </footer>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}