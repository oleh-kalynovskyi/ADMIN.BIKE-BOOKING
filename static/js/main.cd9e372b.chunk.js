(this["webpackJsonpbike-booking"]=this["webpackJsonpbike-booking"]||[]).push([[0],{20:function(e,t,a){},22:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(9),c=a.n(i),r=(a(20),a(3)),l=a(8),o=a(2),b=a.n(o),u=a(13),h=a(6),j=a(10),d=a(11),p=a(15),m=a(14),x=(a(22),a(4)),O=a.n(x),v=a(5),k=a(12),f=a.n(k),g=(a(24),a(0));function N(e){var t=e.Bike,a=e.Remove,n=e.SaveChange;return Object(g.jsx)("div",{className:"bike-list",children:t&&t.map((function(e,t){return Object(g.jsxs)("div",{className:f()("bikes-wrapper",{available:"available"===e.status,busy:"busy"===e.status,unavailable:"unavailable"===e.status}),children:[Object(g.jsxs)("div",{className:"bike-wrapper-left",children:[Object(g.jsxs)("div",{className:"bikes-wrapper-name",children:[Object(g.jsx)("strong",{children:e.names||"NAME"})," - ",e.type||"TYPE"," (",e.color||"COLOR",")"]}),Object(g.jsx)("div",{className:"bikes-wrapper-slug",children:e.slug||"ID: \u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425\u0425"}),Object(g.jsxs)("div",{className:"bikes-wrapper-status",children:[" STATUS:",Object(g.jsxs)("select",{value:e.status,autoComplete:"off",onChange:function(t){return n(e.id,t.target.value)},children:[Object(g.jsx)("option",{value:"available",children:"available"}),Object(g.jsx)("option",{value:"busy",children:"busu"}),Object(g.jsx)("option",{value:"unavailable",children:"unavailable"})]})]})]}),Object(g.jsxs)("div",{className:"bike-wrapper-right",children:[Object(g.jsx)(v.a,{className:"bike-wrapper bnt",onClick:function(){return a(e.id)}}),Object(g.jsxs)("div",{className:"bikes-wrapper-price",children:[parseInt(e.price).toFixed(2)||"00.00"," ",Object(g.jsx)("span",{children:" UAH/hr"})]})]})]},t)}))})}a(26);function C(e){var t=e.Bike,a=t.length;function n(){return t.map((function(e){return e.status})).reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{})}function s(){return t.map((function(e){return e.price})).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)}return Object(g.jsxs)("div",{className:"statistic",children:[Object(g.jsx)("h3",{className:"statistic-header",children:"Stistics"}),Object(g.jsxs)("div",{className:"total-bikes",children:["Total Bikes: ",Object(g.jsx)("strong",{children:a||0})]}),Object(g.jsxs)("div",{className:"available-bikes",children:["Available Bikes: ",Object(g.jsx)("strong",{children:n().available||0})]}),Object(g.jsxs)("div",{className:"booked-bikes",children:["Booked Bikes: ",Object(g.jsxs)("strong",{children:[n().busy||0," "]})]}),Object(g.jsxs)("div",{className:"cost-bikes",children:["Avarage bike cost: ",Object(g.jsxs)("strong",{children:[s()/a?(s()/a).toFixed(2):"0.00"," "]}),"  UAH/hr."]})]})}var y=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={bike:{names:"",type:"",color:"",size:"",price:"",slug:"",description:"",id:"",status:"available"},bikes:[],modal:!1},e.componentDidMount=function(){O.a.getItem("bikeList").then((function(t){t&&e.setState({bikes:t})}))},e.handleSubmit=function(){var t=Object(h.a)(b.a.mark((function t(a){var n,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),a.target.reset(),n=e.state.bike,s=e.state.bikes,-1!==s.findIndex((function(e){return e.slug===n.slug}))){t.next=10;break}return t.next=8,e.setState({bikes:[].concat(Object(u.a)(e.state.bikes),[e.state.bike])});case 8:t.next=11;break;case 10:e.setState({modal:!0});case 11:O.a.setItem("bikeList",e.state.bikes);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a,n=t.target,s=n.form,i=n.value;e.setState(Object(r.a)({},s.name,Object(l.a)(Object(l.a)({},e.state[s.name]),{},(a={},Object(r.a)(a,n.name,i),Object(r.a)(a,"id",Math.random()),a))))},e.remove=function(){var t=Object(h.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({bikes:e.state.bikes.filter((function(e){return e.id!==a}))});case 2:O.a.setItem("bikeList",e.state.bikes);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.saveChange=function(){var t=Object(h.a)(b.a.mark((function t(a,n){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state.bikes.map((function(e){return e.id===a&&(e.status=n),e})),t.next=3,e.setState({bikes:s});case 3:O.a.setItem("bikeList",e.state.bikes);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.close=function(){e.setState({modal:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"main",children:[this.state.modal?Object(g.jsxs)("div",{className:"modal",children:[Object(g.jsx)(v.a,{className:"bnt",onClick:this.close}),Object(g.jsx)("h1",{children:"An object with this ID exists - enter unique ID"})]}):null,this.state.bikes.length?Object(g.jsx)(N,{Bike:this.state.bikes,Remove:this.remove,SaveChange:this.saveChange}):Object(g.jsx)("div",{className:"isFetching"}),Object(g.jsxs)("div",{className:"panel",children:[Object(g.jsxs)("form",{onSubmit:this.handleSubmit,className:"form",name:"bike",children:[Object(g.jsx)("input",{minLength:"5",required:!0,type:"text",name:"names",placeholder:"Name",onChange:this.handleChange}),Object(g.jsx)("input",{minLength:"5",required:!0,type:"text",name:"type",placeholder:"Type",onChange:this.handleChange}),Object(g.jsx)("input",{minLength:"5",required:!0,type:"text",name:"color",placeholder:"Color",onChange:this.handleChange}),Object(g.jsx)("input",{minLength:"5",required:!0,type:"text",name:"size",placeholder:"Wheel size",onChange:this.handleChange}),Object(g.jsx)("input",{minLength:"3",required:!0,type:"text",pattern:"^[ 0-9]+$",name:"price",placeholder:"Price",onChange:this.handleChange}),Object(g.jsx)("input",{minLength:"5",required:!0,type:"text",pattern:"^[ 0-9]+$",name:"slug",placeholder:"ID (slug) XXXXXXXXXXX",onChange:this.handleChange}),Object(g.jsx)("textarea",{minLength:"5",required:!0,name:"description",placeholder:"Description",onChange:this.handleChange}),Object(g.jsxs)("div",{className:"form-btn-box",children:[Object(g.jsx)("button",{className:"form-btn",type:"submit",children:" SAVE "}),Object(g.jsx)("button",{className:"form-btn",type:"reset",children:" CLEAR "})]})]}),Object(g.jsx)(C,{Bike:this.state.bikes})]})]})}}]),a}(n.Component);var w=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("div",{className:"top-panel",children:Object(g.jsx)("div",{className:"top-panel-text",children:"ADMIN.BIKE-BOOKING.COM"})}),Object(g.jsx)(y,{}),Object(g.jsx)("footer",{className:"bottom-panel",children:Object(g.jsxs)("div",{className:"bottom-panel-text",children:[Object(g.jsx)("span",{children:"DEVELOPER: "})," OLEH KALYNOVSKYI"]})})]})};c.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(w,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.cd9e372b.chunk.js.map